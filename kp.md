# Коммерческое предложение на разработку API для интеграции систем

## Введение

Настоящее коммерческое предложение описывает этапы и стоимость разработки API для интеграции AmoCRM с системами "Альта ГТД", "ВЭД-склад" и "1С". Целью проекта является автоматизация бизнес-процессов, сокращение ручного труда и повышение эффективности работы компании.

## 1. Подготовительный этап

*   Анализ существующей инфраструктуры и бизнес-процессов.
*   Разработка детальной архитектуры API.
*   Настройка серверной среды.
*   Настройка домена и SSL-сертификатов.
*   Подготовка тестовых стендов.
*   Согласование форматов данных и протоколов взаимодействия.

Архитектуру закладываем для real-time обработки запросов, без очередей. То есть предполагаемая нагрузка на систему не превышает 500 запросов в час по всем видам API.

Для "ручных интеграций", вроде генерации XML документа из виджета этот пункт не на что не влияет вообще

Для событий, инициированных из amoCRM - в случае сбоев полагаемся на встроенные механизмы переотправки уведомлений.

Для событий, инициированных другими системами - полагаемся, что логика отслеживания ошибок и недошедших уведомлений реализована и контролируется на их стороне.

На сервере реализуется система логгирования запросов, которая позволит в течение N дней отследить все пришедшие запросы в систему по всем видами endpoint. Для диагностики и отладки.

**Стоимость этапа:** 200 000 ₽

## 2. Разработка API для интеграции AmoCRM и Альта ГТД

### 2.1. Автоматизация заполнения пассажирской таможенной декларации (ПТД)

*   **Задача:** Разработка виджета в AmoCRM для формирования XML-файла ПТД на основе данных из карточки клиента для последующего ручного импорта в "Альта-Софт".
*   **Функционал:**
    *   Сбор данных клиента (ФИО, дата рождения, паспортные данные, место регистрации, ИНН).
    *   Сбор данных автомобиля (марка, модель, VIN, номер кузова).
    *   Сбор данных договора с таможенным представителем (номер, дата).
    *   Включение постоянных данных таможенного представителя.
    *   Проверка на заполненность обязательных полей перед формированием XML.
    *   Формирование XML-файла в соответствии с форматом "Альта".
*   **API endpoint:** Создание/обновление данных для формирования XML ПТД.

**Стоимость пункта:** 60 000 ₽

### 2.2. Автоматизация передачи уведомлений о статусах ПТД в AmoCRM

*   **Задача:** Настройка приема и обработки уведомлений из "Альта ГТД" о статусах ПТД (регистрация, выпуск, отказ) в AmoCRM.
*   **Функционал:**
    *   Прием данных о регистрации ДТ (VIN, регистрационный номер ДТ, дата и время регистрации).
        *   Обновление полей в AmoCRM: "Номер ДТ", "Дата регистрации ДТ", "Статус ДТ" (устанавливается в "ДТ зарегистрирована").
    *   Прием данных о выпуске ДТ (VIN, регистрационный номер ДТ, дата и время выпуска).
        *   Обновление полей в AmoCRM: "Дата выпуска ДТ", "Статус ДТ" (устанавливается в "ДТ выпущена").
    *   Прием данных об отказе в выпуске ДТ (VIN, регистрационный номер ДТ, дата и время отказа).
        *   Обновление полей в AmoCRM: "Дата отказа ДТ", "Статус ДТ" (устанавливается в "ДТ отказана").
    *   Обработка случаев с несколькими ДТ на одну сделку.
    *   Инициирование уведомлений клиенту через чат-бот при изменении статуса.
*   **API endpoint:** Прием уведомлений о статусах ПТД.

**Что нужно еще выяснить:** В случае нескольких ДТ, предыдущую ДТ будет фиксировать в комментарии к сделке. Актуальную - в полях. Подходит ли такая схема?
Пока не понятно как работает бот и как "инициировать в нем сообщение". Расчет сделан без учета бота.
**Стоимость пункта:** 

### 2.3. Автоматизация передачи уведомлений о статусах транзитных ДТ (ТД) в AmoCRM

*   **Задача:** Настройка приема и обработки уведомлений из "Альта ГТД" о статусах ТД в AmoCRM.
*   **Функционал:**
    *   Прием данных о регистрации ТД (VIN, регистрационный номер ТД, статус ТД, дата регистрации ТД, список ФИО физ. лиц).
        *   Обновление полей в AmoCRM: "Номер ТД", "Статус ТД" (устанавливается в "ТД зарегистрирована"), "Дата регистрации ТД".
    *   Корректное распределение данных по карточкам клиентов при наличии нескольких VIN в одной ТД.
    *   Обеспечение возможности фильтрации карточек по статусу транзита.
*   **API endpoint:** Прием уведомлений о статусах ТД.

**Стоимость пункта:** [Указать цену]

## 3. Разработка API для интеграции AmoCRM и ВЭД-склад

### 3.1. Автоматизация передачи уведомлений о принятии решения о выдаче товаров с СВХ

*   **Задача:** Настройка приема и обработки уведомлений из системы "ВЭД-склад" о принятии решения о выдаче товаров с СВХ.
*   **Функционал:**
    *   Прием данных (VIN, дата уведомления о принятии товара на СВХ).
    *   Обновление поля в AmoCRM: "Дата уведомления о возможности выдачи товаров с СВХ".
    *   Перемещение карточки сделки на стадию "СВХ ДО2".
*   **API endpoint:** Прием уведомлений с ВЭД-склада.

**Стоимость пункта:** [Указать цену]

### 3.2. Автоматизация обработки документов из лаборатории

*   **Задача:** Настройка приема и обработки архивов документов (ЭПТС, СБКТС) из лаборатории, прикрепление их к карточкам сделок в AmoCRM.
*   **Функционал:**
    *   Прием данных (VIN, файлы ЭПТС и СБКТС в PDF).
    *   Прикрепление документов к соответствующей карточке сделки по VIN.
    *   Обновление полей в AmoCRM: "Лаборатория требуется" (Да/Нет), "Документы из лаборатории получены" (Да/Нет), "ЭПТС" (файл), "ЭПТС дата время загрузки", "СБКТС" (файл), "СБКТС дата время загрузки".
    *   Перемещение карточки сделки в зависимости от необходимости прохождения лаборатории.
    *   Инициирование уведомлений клиенту через чат-бот.
*   **API endpoint:** Прием документов из лаборатории.

**Стоимость пункта:** [Указать цену]

### 3.3. Генерация QR-кода для проверки выпуска автомобиля (будущая доработка)

*   **Задача:** Разработка функционала генерации QR-кода для сотрудников склада.
*   **Функционал:**
    *   Автоматическая генерация QR-кода при изменении статуса сделки на "СВХ ДО2".
    *   QR-код содержит информацию о статусе сделки и наличии документов (ссылка на страницу с информацией).
    *   Отображение сообщения о готовности автомобиля к выдаче при сканировании QR-кода.
*   **API endpoint:** Генерация/получение данных для QR-кода.

**Стоимость пункта:** [Указать цену]

## 4. Разработка API для интеграции AmoCRM и 1С

### 4.1. Автоматическое создание контрагентов в 1С из AmoCRM

*   **Задача:** Настройка выгрузки данных из AmoCRM для автоматического создания контрагентов в 1С.
*   **Функционал:**
    *   При перемещении карточки сделки на стадию "Договор" выгрузка данных: номер сделки, VIN, вид клиента, ФИО (физ. лица), мобильный, паспортные данные (серия, номер, кем выдан, дата выдачи, код подразделения), место регистрации, ИНН, СНИЛС, номер договора.
    *   Формирование данных в согласованном формате (например, JSON).
    *   Передача данных в 1С (через папку на сервере или webhook).
    *   Логика на стороне 1С: определение вида контрагента (физ.лицо/юр.лицо), проверка на дубли по ИНН.
*   **API endpoint:** Выгрузка данных для создания контрагента в 1С.

**Стоимость пункта:** [Указать цену]

### 4.2. Выгрузка данных по счетам из AmoCRM и формирование счетов в 1С

*   **Задача:** Настройка выгрузки данных по услугам из AmoCRM для формирования счетов в 1С.
*   **Функционал:**
    *   При перемещении карточки сделки на стадию "Договор" выгрузка данных по услугам и их стоимости из раздела "Вид услуг".
    *   Логика на стороне 1С: формирование счетов с учетом разных организаций ("ДВТО", "ООО Авто Терминал", "ООО Логистический Терминал", "ИП Полуэктов В.С.") в зависимости от вида услуги.
    *   Формирование отдельных счетов для услуг "СБКТС" и "Транспортных услуг" от "ИП Полуэктов В.С.".
*   **API endpoint:** Выгрузка данных для формирования счетов в 1С.

**Стоимость пункта:** [Указать цену]

### 4.3. Выгрузка статусов по оплате счетов из 1С и передача данных в AmoCRM

*   **Задача:** Настройка передачи данных об оплате счетов из 1С в AmoCRM.
*   **Функционал:**
    *   Отслеживание статуса оплаты счетов в 1С, связанных со сделками в AmoCRM по VIN.
    *   Передача данных об оплате в AmoCRM.
    *   Обновление соответствующей карточки сделки в AmoCRM.
*   **API endpoint:** Прием данных об оплате счетов из 1С.

**Стоимость пункта:** [Указать цену]

## Общая стоимость проекта

**Общая стоимость всех этапов:** [Указать общую цену]

## Условия оплаты и сроки

[Указать условия оплаты и предполагаемые сроки выполнения работ по каждому этапу и по проекту в целом]

## Контактная информация

[Ваши контакты]
